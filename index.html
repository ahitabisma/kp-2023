<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="./css/welcome.css" />
    <link rel="stylesheet" href="./css/reset.css" />
    <title>Halaman Welcome</title>
  </head>
  <body>
    <!-- PreLoader -->
    <div id="preloader">
      <div class="preloader-page">
        <img src="./img/logo-pt.png" alt="Goweb Indonesia" />
        <p>Goweb</p>
        <p>Indonesia</p>
      </div>
    </div>

    <div class="container">
      <!-- header -->
      <div class="header">
        <div>
          <img src="./img/logo-pt.png" alt="" />
        </div>
      </div>
      <div class="title">
        <div>Welcome to</div>
        <div>Software Kampus</div>
      </div>
      <div class="content">
        <div>Academic Platform For Your Campus in</div>
        <div>Academic Administration Management</div>
        <div>To Be Neat, Easy, Time and Energy</div>
        <div>Efficient</div>
        <p>DeviceToken</p>
        <input type="hidden" name="deviceToken" value="deviceToken" id="deviceToken" />
        <p>GPS</p>
        <p id="location" style="color: white"></p>
      </div>
      <div class="btn">
        <div>
          <a href="./view/login1/login1.html">
            <button>Go to Login</button>
          </a>
        </div>
      </div>
    </div>

    <script>
      // Preloader
      var preloader = document.getElementById("preloader");
      window.addEventListener("load", function () {
        this.setTimeout(function () {
          preloader.style.display = "none";
        }, 2000);
      });

      // Device Token
      var deviceToken = AndroidInterface.getDeviceToken();
      var deviceTokenElement = document.getElementById("deviceToken");
      deviceTokenElement.value = deviceToken;
      var showLocation = document.getElementById("location");

      // Lokasi
      document.addEventListener("DOMContentLoaded", function () {
        getLocationConstant();
        if (document.getElementById("location").innerHTML === "") {
          document.getElementById("location").innerHTML = "GPS belum diaktifkan";
        }
      });

      function getLocationConstant() {
        if (navigator.geolocation) {
          navigator.geolocation.getCurrentPosition(onGeoSuccess, onGeoError);
        } else {
          document.getElementById("location").innerHTML = "Perangkat Anda tidak mendukung GPS.";
        }
      }

      function onGeoSuccess(event) {
        var latitude = event.coords.latitude;
        var longitude = event.coords.longitude;
        document.getElementById("location").innerHTML = "Lokasi : " + latitude + ", " + longitude;
      }

      function onGeoError(event) {
        var errorText = "Terjadi kesalahan: kode " + event.code + ". " + event.message;
        document.getElementById("location").innerHTML = errorText;
      }
    </script>
  </body>
</html>
